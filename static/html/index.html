<!DOCTYPE html>
<html lang="de">

<!-- Layout Datei einbinden -->
<link rel='stylesheet' type='text/css' href='/css/layout.css'>

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Wunschzettel Anwendung</title>
    <style>

    </style>
</head>

<body>
    <div class="container">
        <div class="left-panel">
            <div class="header">
                <h1>üìù Wunschzettel</h1>
                <button class="btn_hinzufuegen" onclick="enableEditing()">Wunsch hinzuf√ºgen</button>
            </div>

            <!-- Sortierfunktion basierend auf ausgew√§hlten Wunschkriterien -->
            <div class="controls">
                <label for="sortSelect">Sortieren nach:</label>
                <select id="sortSelect" onchange="prepareSort(this)">
                    <option value="">-- Auswahl --</option>
                    <option value="product">Produktname</option>
                    <option value="price">Preis</option>
                    <option value="priority">Priorit√§t</option>
                </select>
            </div>

            <!-- Wichtig ===================================================================================================================================== -->
            <!-- Enth√§lt nach der Ausf√ºhrung alle W√ºnsche, wird dynamisch √ºber JavaScript bef√ºllt -->
            <!-- Zuerst die Daten beschaffen und anschlie√üend in 'listWuensche' einf√ºgen -->
            <!-- 'aktualisiereWunschliste();' zuletzt aufrufen, um die Webseite zu aktualisieren -->
             <!-- Siehe fuelleListeAusDatenbank() in wunschliste.js -->
            <div id="divWunschListe">
                <div id="wunschListe" class="div_keine_wuensche">Noch keine W√ºnsche vorhanden.</div>
            </div>

            <!-- Erm√∂glicht den Seitenwechsel -->
            <div class="aufteilung">
                <button onclick="previousPage()">‚¨ÖÔ∏è Zur√ºck</button>
                <span id="pageInfo">Seite 1</span>
                <button onclick="nextPage()">‚û°Ô∏è Weiter</button>
            </div>
        </div>

        <!-- Zu Beginn nicht sichtbar. Wird im Verlauf der Bearbeitung je nach Bedarf ein- oder ausgeblendet -->
        <div id="formPanel" class="right-panel">
            <h2 id="formTitle">Wunsch hinzuf√ºgen</h2>
            <!-- <form id="wunschForm"> -->
                <input type="hidden" id="editId">
                <label for="product">Produkt</label>
                <input type="text" id="product" required>
                <label for="preis">Preis (‚Ç¨)</label>
                <input type="text" id="preis" required>
                <label for="url">URL</label>
                <input type="url" id="url" required>
                <label for="prioritaet">Priorit√§t</label>
                <select id="prioritaet" required>
                    <option value="Hoch">Hoch</option>
                    <option value="Mittel">Mittel</option>
                    <option value="Niedrig">Niedrig</option>
                </select>
                <div class="aktionen">
                    <button type="submit" class="btn_speichern" onclick="saveWish()">Speichern</button>
                    <button type="button" class="btn_abbrechen" onclick="abortEditing()">Abbrechen</button>
                </div>
            <!-- </form> -->
        </div>
    </div>

    <script src="/js/wunschliste.js"></script>
    <script>
        let currentPage = 1;
        const wishesPerPage = 9; // Der Wert bestimmt die Anzahl der angezeigten W√ºnsche
        let listWuensche = []; // Alle W√ºnsche werden in dieser Liste aufgef√ºhrt
        const apiURL = '/wish';

        class OrderBy {
            static #_ASC = "ascending";
            static #_DSC = "descending";

            static get ASC() { return this.#_ASC; }
            static get DSC() { return this.#_DSC; }
        }

        
        let sorting = {
            sort_by: 'priority',
            order_by: OrderBy.ASC
        };

        // Erstellt Testdaten, um die Webseite auch ohne vorhandene Daten testen zu k√∂nnen
        // Diese Funktion ist ausschlie√ülich f√ºr Testzwecke gedacht und kann sp√§ter vollst√§ndig entfernt werden ^^
        // erstelleTestDaten(30);
        updateUI();
    </script>
</body>

</html>